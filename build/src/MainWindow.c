/* MainWindow.c generated by valac 0.36.11, the Vala compiler
 * generated from MainWindow.vala, do not modify */

/*-
 * Copyright (c) 2018 Artem Anufrij <artem.anufrij@live.de>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * The Noise authors hereby grant permission for non-GPL compatible
 * GStreamer plugins to be used and distributed together with GStreamer
 * and Noise. This permission is above and beyond the permissions granted
 * by the GPL license by which Noise is covered. If you modify this code
 * you may extend this exception to your version of the code, but you are not
 * obligated to do so. If you do not wish to do so, delete this exception
 * statement from your version.
 *
 * Authored by: Artem Anufrij <artem.anufrij@live.de>
 */

#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <gio/gio.h>
#include <glib/gi18n-lib.h>
#include <stdlib.h>
#include <string.h>


#define GRAPH_UI_TYPE_MAIN_WINDOW (graph_ui_main_window_get_type ())
#define GRAPH_UI_MAIN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRAPH_UI_TYPE_MAIN_WINDOW, GraphUIMainWindow))
#define GRAPH_UI_MAIN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRAPH_UI_TYPE_MAIN_WINDOW, GraphUIMainWindowClass))
#define GRAPH_UI_IS_MAIN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRAPH_UI_TYPE_MAIN_WINDOW))
#define GRAPH_UI_IS_MAIN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRAPH_UI_TYPE_MAIN_WINDOW))
#define GRAPH_UI_MAIN_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRAPH_UI_TYPE_MAIN_WINDOW, GraphUIMainWindowClass))

typedef struct _GraphUIMainWindow GraphUIMainWindow;
typedef struct _GraphUIMainWindowClass GraphUIMainWindowClass;
typedef struct _GraphUIMainWindowPrivate GraphUIMainWindowPrivate;

#define GRAPH_UI_SERVICES_TYPE_GRAPH_VIZ (graph_ui_services_graph_viz_get_type ())
#define GRAPH_UI_SERVICES_GRAPH_VIZ(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRAPH_UI_SERVICES_TYPE_GRAPH_VIZ, GraphUIServicesGraphViz))
#define GRAPH_UI_SERVICES_GRAPH_VIZ_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRAPH_UI_SERVICES_TYPE_GRAPH_VIZ, GraphUIServicesGraphVizClass))
#define GRAPH_UI_SERVICES_IS_GRAPH_VIZ(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRAPH_UI_SERVICES_TYPE_GRAPH_VIZ))
#define GRAPH_UI_SERVICES_IS_GRAPH_VIZ_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRAPH_UI_SERVICES_TYPE_GRAPH_VIZ))
#define GRAPH_UI_SERVICES_GRAPH_VIZ_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRAPH_UI_SERVICES_TYPE_GRAPH_VIZ, GraphUIServicesGraphVizClass))

typedef struct _GraphUIServicesGraphViz GraphUIServicesGraphViz;
typedef struct _GraphUIServicesGraphVizClass GraphUIServicesGraphVizClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

struct _GraphUIMainWindow {
	GtkWindow parent_instance;
	GraphUIMainWindowPrivate * priv;
};

struct _GraphUIMainWindowClass {
	GtkWindowClass parent_class;
};

struct _GraphUIMainWindowPrivate {
	GraphUIServicesGraphViz* graphviz;
	GFile* current_file;
	GtkTextView* text;
	GtkImage* image;
	GtkScrolledWindow* image_scroll;
	GtkComboBoxText* format_chooser;
};


static gpointer graph_ui_main_window_parent_class = NULL;

GType graph_ui_main_window_get_type (void) G_GNUC_CONST;
GType graph_ui_services_graph_viz_get_type (void) G_GNUC_CONST;
#define GRAPH_UI_MAIN_WINDOW_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), GRAPH_UI_TYPE_MAIN_WINDOW, GraphUIMainWindowPrivate))
enum  {
	GRAPH_UI_MAIN_WINDOW_0_PROPERTY
};
GraphUIMainWindow* graph_ui_main_window_new (void);
GraphUIMainWindow* graph_ui_main_window_construct (GType object_type);
static void graph_ui_main_window_build_ui (GraphUIMainWindow* self);
static void graph_ui_main_window_new_file_action (GraphUIMainWindow* self);
static void _graph_ui_main_window_new_file_action_gtk_button_clicked (GtkButton* _sender, gpointer self);
static void graph_ui_main_window_open_file_action (GraphUIMainWindow* self);
static void _graph_ui_main_window_open_file_action_gtk_button_clicked (GtkButton* _sender, gpointer self);
static void graph_ui_main_window_save_file_action (GraphUIMainWindow* self);
static void _graph_ui_main_window_save_file_action_gtk_button_clicked (GtkButton* _sender, gpointer self);
static void graph_ui_main_window_create_preview (GraphUIMainWindow* self);
static void _graph_ui_main_window_create_preview_gtk_button_clicked (GtkButton* _sender, gpointer self);
static void _graph_ui_main_window_create_preview_gtk_combo_box_changed (GtkComboBox* _sender, gpointer self);
void graph_ui_services_graph_viz_create_preview (GraphUIServicesGraphViz* self, const gchar* content, const gchar* format);
static GObject * graph_ui_main_window_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties);
GraphUIServicesGraphViz* graph_ui_services_graph_viz_get_instance (void);
static void _graph_ui_main_window___lambda4_ (GraphUIMainWindow* self);
const gchar* graph_ui_services_graph_viz_get_output_image (GraphUIServicesGraphViz* self);
static void __graph_ui_main_window___lambda4__graph_ui_services_graph_viz_image_created (GraphUIServicesGraphViz* _sender, gpointer self);
static void _graph_ui_main_window___lambda5_ (GraphUIMainWindow* self, const gchar* message);
static void __graph_ui_main_window___lambda5__graph_ui_services_graph_viz_error (GraphUIServicesGraphViz* _sender, const gchar* message, gpointer self);
static void graph_ui_main_window_finalize (GObject * obj);


GraphUIMainWindow* graph_ui_main_window_construct (GType object_type) {
	GraphUIMainWindow * self = NULL;
#line 52 "/home/artem/git/graphui/src/MainWindow.vala"
	self = (GraphUIMainWindow*) g_object_new (object_type, NULL);
#line 53 "/home/artem/git/graphui/src/MainWindow.vala"
	graph_ui_main_window_build_ui (self);
#line 52 "/home/artem/git/graphui/src/MainWindow.vala"
	return self;
#line 123 "MainWindow.c"
}


GraphUIMainWindow* graph_ui_main_window_new (void) {
#line 52 "/home/artem/git/graphui/src/MainWindow.vala"
	return graph_ui_main_window_construct (GRAPH_UI_TYPE_MAIN_WINDOW);
#line 130 "MainWindow.c"
}


static void _graph_ui_main_window_new_file_action_gtk_button_clicked (GtkButton* _sender, gpointer self) {
#line 65 "/home/artem/git/graphui/src/MainWindow.vala"
	graph_ui_main_window_new_file_action ((GraphUIMainWindow*) self);
#line 137 "MainWindow.c"
}


static void _graph_ui_main_window_open_file_action_gtk_button_clicked (GtkButton* _sender, gpointer self) {
#line 69 "/home/artem/git/graphui/src/MainWindow.vala"
	graph_ui_main_window_open_file_action ((GraphUIMainWindow*) self);
#line 144 "MainWindow.c"
}


static void _graph_ui_main_window_save_file_action_gtk_button_clicked (GtkButton* _sender, gpointer self) {
#line 73 "/home/artem/git/graphui/src/MainWindow.vala"
	graph_ui_main_window_save_file_action ((GraphUIMainWindow*) self);
#line 151 "MainWindow.c"
}


static void _graph_ui_main_window_create_preview_gtk_button_clicked (GtkButton* _sender, gpointer self) {
#line 77 "/home/artem/git/graphui/src/MainWindow.vala"
	graph_ui_main_window_create_preview ((GraphUIMainWindow*) self);
#line 158 "MainWindow.c"
}


static void _graph_ui_main_window_create_preview_gtk_combo_box_changed (GtkComboBox* _sender, gpointer self) {
#line 86 "/home/artem/git/graphui/src/MainWindow.vala"
	graph_ui_main_window_create_preview ((GraphUIMainWindow*) self);
#line 165 "MainWindow.c"
}


static void graph_ui_main_window_build_ui (GraphUIMainWindow* self) {
	GtkHeaderBar* headerbar = NULL;
	GtkHeaderBar* _tmp0_;
	GtkButton* new_file = NULL;
	GtkButton* _tmp1_;
	GtkButton* open_file = NULL;
	GtkButton* _tmp2_;
	GtkButton* save_as = NULL;
	GtkButton* _tmp3_;
	GtkButton* compile = NULL;
	GtkButton* _tmp4_;
	GtkComboBoxText* _tmp5_;
	GtkComboBoxText* _tmp6_;
	GtkComboBoxText* _tmp7_;
	GtkComboBoxText* _tmp8_;
	GtkComboBoxText* _tmp9_;
	GtkComboBoxText* _tmp10_;
	GtkComboBoxText* _tmp11_;
	GtkComboBoxText* _tmp12_;
	GtkPaned* paned = NULL;
	GtkPaned* _tmp13_;
	GtkTextView* _tmp14_;
	GtkTextView* _tmp15_;
	GtkTextView* _tmp16_;
	GtkTextView* _tmp17_;
	GtkTextView* _tmp18_;
	GtkScrolledWindow* text_scroll = NULL;
	GtkScrolledWindow* _tmp19_;
	GtkTextView* _tmp20_;
	GtkImage* _tmp21_;
	GtkScrolledWindow* _tmp22_;
	GtkScrolledWindow* _tmp23_;
	GtkImage* _tmp24_;
	GtkScrolledWindow* _tmp25_;
#line 56 "/home/artem/git/graphui/src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 57 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_set ((GtkWidget*) self, "width-request", 900, NULL);
#line 58 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_set ((GtkWidget*) self, "height-request", 600, NULL);
#line 60 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp0_ = (GtkHeaderBar*) gtk_header_bar_new ();
#line 60 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_ref_sink (_tmp0_);
#line 60 "/home/artem/git/graphui/src/MainWindow.vala"
	headerbar = _tmp0_;
#line 61 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_header_bar_set_title (headerbar, _ ("GraphUI"));
#line 62 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_header_bar_set_show_close_button (headerbar, TRUE);
#line 64 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp1_ = (GtkButton*) gtk_button_new_from_icon_name ("document-new", GTK_ICON_SIZE_LARGE_TOOLBAR);
#line 64 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_ref_sink (_tmp1_);
#line 64 "/home/artem/git/graphui/src/MainWindow.vala"
	new_file = _tmp1_;
#line 65 "/home/artem/git/graphui/src/MainWindow.vala"
	g_signal_connect_object (new_file, "clicked", (GCallback) _graph_ui_main_window_new_file_action_gtk_button_clicked, self, 0);
#line 66 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_header_bar_pack_start (headerbar, (GtkWidget*) new_file);
#line 68 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp2_ = (GtkButton*) gtk_button_new_from_icon_name ("document-open", GTK_ICON_SIZE_LARGE_TOOLBAR);
#line 68 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_ref_sink (_tmp2_);
#line 68 "/home/artem/git/graphui/src/MainWindow.vala"
	open_file = _tmp2_;
#line 69 "/home/artem/git/graphui/src/MainWindow.vala"
	g_signal_connect_object (open_file, "clicked", (GCallback) _graph_ui_main_window_open_file_action_gtk_button_clicked, self, 0);
#line 70 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_header_bar_pack_start (headerbar, (GtkWidget*) open_file);
#line 72 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp3_ = (GtkButton*) gtk_button_new_from_icon_name ("document-save-as", GTK_ICON_SIZE_LARGE_TOOLBAR);
#line 72 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_ref_sink (_tmp3_);
#line 72 "/home/artem/git/graphui/src/MainWindow.vala"
	save_as = _tmp3_;
#line 73 "/home/artem/git/graphui/src/MainWindow.vala"
	g_signal_connect_object (save_as, "clicked", (GCallback) _graph_ui_main_window_save_file_action_gtk_button_clicked, self, 0);
#line 74 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_header_bar_pack_start (headerbar, (GtkWidget*) save_as);
#line 76 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp4_ = (GtkButton*) gtk_button_new_from_icon_name ("media-playback-start-symbolic", GTK_ICON_SIZE_LARGE_TOOLBAR);
#line 76 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_ref_sink (_tmp4_);
#line 76 "/home/artem/git/graphui/src/MainWindow.vala"
	compile = _tmp4_;
#line 77 "/home/artem/git/graphui/src/MainWindow.vala"
	g_signal_connect_object (compile, "clicked", (GCallback) _graph_ui_main_window_create_preview_gtk_button_clicked, self, 0);
#line 78 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_header_bar_pack_end (headerbar, (GtkWidget*) compile);
#line 80 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp5_ = (GtkComboBoxText*) gtk_combo_box_text_new ();
#line 80 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_ref_sink (_tmp5_);
#line 80 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (self->priv->format_chooser);
#line 80 "/home/artem/git/graphui/src/MainWindow.vala"
	self->priv->format_chooser = _tmp5_;
#line 81 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp6_ = self->priv->format_chooser;
#line 81 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_combo_box_text_append (_tmp6_, "svg", ".svg");
#line 82 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp7_ = self->priv->format_chooser;
#line 82 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_combo_box_text_append (_tmp7_, "sng", ".png");
#line 83 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp8_ = self->priv->format_chooser;
#line 83 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_combo_box_set_active_id ((GtkComboBox*) _tmp8_, "svg");
#line 84 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp9_ = self->priv->format_chooser;
#line 84 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_widget_set_tooltip_text ((GtkWidget*) _tmp9_, _ ("Format"));
#line 85 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp10_ = self->priv->format_chooser;
#line 85 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_widget_set_valign ((GtkWidget*) _tmp10_, GTK_ALIGN_CENTER);
#line 86 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp11_ = self->priv->format_chooser;
#line 86 "/home/artem/git/graphui/src/MainWindow.vala"
	g_signal_connect_object ((GtkComboBox*) _tmp11_, "changed", (GCallback) _graph_ui_main_window_create_preview_gtk_combo_box_changed, self, 0);
#line 88 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp12_ = self->priv->format_chooser;
#line 88 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_header_bar_pack_end (headerbar, (GtkWidget*) _tmp12_);
#line 90 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_window_set_titlebar ((GtkWindow*) self, (GtkWidget*) headerbar);
#line 92 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp13_ = (GtkPaned*) gtk_paned_new (GTK_ORIENTATION_HORIZONTAL);
#line 92 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_ref_sink (_tmp13_);
#line 92 "/home/artem/git/graphui/src/MainWindow.vala"
	paned = _tmp13_;
#line 94 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp14_ = (GtkTextView*) gtk_text_view_new ();
#line 94 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_ref_sink (_tmp14_);
#line 94 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (self->priv->text);
#line 94 "/home/artem/git/graphui/src/MainWindow.vala"
	self->priv->text = _tmp14_;
#line 95 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp15_ = self->priv->text;
#line 95 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp16_ = self->priv->text;
#line 95 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp17_ = self->priv->text;
#line 95 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp18_ = self->priv->text;
#line 95 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_text_view_set_right_margin (_tmp18_, 12);
#line 95 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_text_view_set_bottom_margin (_tmp17_, 12);
#line 95 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_text_view_set_left_margin (_tmp16_, 12);
#line 95 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_text_view_set_top_margin (_tmp15_, 12);
#line 96 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp19_ = (GtkScrolledWindow*) gtk_scrolled_window_new (NULL, NULL);
#line 96 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_ref_sink (_tmp19_);
#line 96 "/home/artem/git/graphui/src/MainWindow.vala"
	text_scroll = _tmp19_;
#line 97 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_set ((GtkWidget*) text_scroll, "expand", TRUE, NULL);
#line 98 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp20_ = self->priv->text;
#line 98 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_container_add ((GtkContainer*) text_scroll, (GtkWidget*) _tmp20_);
#line 100 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp21_ = (GtkImage*) gtk_image_new ();
#line 100 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_ref_sink (_tmp21_);
#line 100 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (self->priv->image);
#line 100 "/home/artem/git/graphui/src/MainWindow.vala"
	self->priv->image = _tmp21_;
#line 101 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp22_ = (GtkScrolledWindow*) gtk_scrolled_window_new (NULL, NULL);
#line 101 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_ref_sink (_tmp22_);
#line 101 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (self->priv->image_scroll);
#line 101 "/home/artem/git/graphui/src/MainWindow.vala"
	self->priv->image_scroll = _tmp22_;
#line 102 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp23_ = self->priv->image_scroll;
#line 102 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp24_ = self->priv->image;
#line 102 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_container_add ((GtkContainer*) _tmp23_, (GtkWidget*) _tmp24_);
#line 104 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_paned_pack1 (paned, (GtkWidget*) text_scroll, FALSE, FALSE);
#line 105 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp25_ = self->priv->image_scroll;
#line 105 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_paned_pack2 (paned, (GtkWidget*) _tmp25_, FALSE, FALSE);
#line 107 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) paned);
#line 108 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_widget_show_all ((GtkWidget*) self);
#line 56 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (text_scroll);
#line 56 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (paned);
#line 56 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (compile);
#line 56 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (save_as);
#line 56 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (open_file);
#line 56 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (new_file);
#line 56 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (headerbar);
#line 385 "MainWindow.c"
}


static void graph_ui_main_window_create_preview (GraphUIMainWindow* self) {
	GraphUIServicesGraphViz* _tmp0_;
	GtkTextView* _tmp1_;
	GtkTextBuffer* _tmp2_;
	GtkTextBuffer* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	GtkComboBoxText* _tmp7_;
	const gchar* _tmp8_;
	const gchar* _tmp9_;
#line 111 "/home/artem/git/graphui/src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 112 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp0_ = self->priv->graphviz;
#line 112 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp1_ = self->priv->text;
#line 112 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp2_ = gtk_text_view_get_buffer (_tmp1_);
#line 112 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp3_ = _tmp2_;
#line 112 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_get (_tmp3_, "text", &_tmp4_, NULL);
#line 112 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp5_ = _tmp4_;
#line 112 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp6_ = _tmp5_;
#line 112 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp7_ = self->priv->format_chooser;
#line 112 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp8_ = gtk_combo_box_get_active_id ((GtkComboBox*) _tmp7_);
#line 112 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp9_ = _tmp8_;
#line 112 "/home/artem/git/graphui/src/MainWindow.vala"
	graph_ui_services_graph_viz_create_preview (_tmp0_, _tmp6_, _tmp9_);
#line 112 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_free0 (_tmp6_);
#line 426 "MainWindow.c"
}


static gpointer _g_object_ref0 (gpointer self) {
#line 127 "/home/artem/git/graphui/src/MainWindow.vala"
	return self ? g_object_ref (self) : NULL;
#line 433 "MainWindow.c"
}


static void graph_ui_main_window_open_file_action (GraphUIMainWindow* self) {
	GtkFileChooserDialog* file_dialog = NULL;
	GtkFileChooserDialog* _tmp0_;
	GtkFileFilter* filter = NULL;
	GtkFileFilter* _tmp1_;
	GtkFileFilter* _tmp2_;
	GtkFileFilter* _tmp3_;
	GtkFileChooserDialog* _tmp4_;
	GtkFileFilter* _tmp5_;
	GtkFileFilter* _tmp6_;
	GtkFileChooserDialog* _tmp7_;
	gint _tmp8_;
	gchar* filname = NULL;
	GtkFileChooserDialog* _tmp10_;
	gchar* _tmp11_;
	GtkFileChooserDialog* _tmp12_;
	GtkTextView* _tmp13_;
	GtkTextBuffer* _tmp14_;
	GtkTextBuffer* _tmp15_;
	const gchar* _tmp16_;
	GFile* _tmp17_;
	GError * _inner_error_ = NULL;
#line 115 "/home/artem/git/graphui/src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 116 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp0_ = (GtkFileChooserDialog*) gtk_file_chooser_dialog_new (_ ("Choose an graphviz file…"), (GtkWindow*) self, GTK_FILE_CHOOSER_ACTION_OPEN, _ ("_Cancel"), GTK_RESPONSE_CANCEL, _ ("_Open"), GTK_RESPONSE_ACCEPT, NULL);
#line 116 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_ref_sink (_tmp0_);
#line 116 "/home/artem/git/graphui/src/MainWindow.vala"
	file_dialog = _tmp0_;
#line 123 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp1_ = gtk_file_filter_new ();
#line 123 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_ref_sink (_tmp1_);
#line 123 "/home/artem/git/graphui/src/MainWindow.vala"
	filter = _tmp1_;
#line 124 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp2_ = filter;
#line 124 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_file_filter_set_name (_tmp2_, _ ("Graphviz"));
#line 125 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp3_ = filter;
#line 125 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_file_filter_add_mime_type (_tmp3_, "text/plain");
#line 127 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp4_ = file_dialog;
#line 127 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp5_ = filter;
#line 127 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp6_ = _g_object_ref0 (_tmp5_);
#line 127 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_file_chooser_add_filter ((GtkFileChooser*) _tmp4_, _tmp6_);
#line 129 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp7_ = file_dialog;
#line 129 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp8_ = gtk_dialog_run ((GtkDialog*) _tmp7_);
#line 129 "/home/artem/git/graphui/src/MainWindow.vala"
	if (_tmp8_ != ((gint) GTK_RESPONSE_ACCEPT)) {
#line 495 "MainWindow.c"
		GFile* _tmp9_;
#line 130 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp9_ = self->priv->current_file;
#line 130 "/home/artem/git/graphui/src/MainWindow.vala"
		g_object_run_dispose ((GObject*) _tmp9_);
#line 131 "/home/artem/git/graphui/src/MainWindow.vala"
		_g_object_unref0 (filter);
#line 131 "/home/artem/git/graphui/src/MainWindow.vala"
		_g_object_unref0 (file_dialog);
#line 131 "/home/artem/git/graphui/src/MainWindow.vala"
		return;
#line 507 "MainWindow.c"
	}
#line 133 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp10_ = file_dialog;
#line 133 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp11_ = gtk_file_chooser_get_filename ((GtkFileChooser*) _tmp10_);
#line 133 "/home/artem/git/graphui/src/MainWindow.vala"
	filname = _tmp11_;
#line 134 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp12_ = file_dialog;
#line 134 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_widget_destroy ((GtkWidget*) _tmp12_);
#line 136 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp13_ = self->priv->text;
#line 136 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp14_ = gtk_text_view_get_buffer (_tmp13_);
#line 136 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp15_ = _tmp14_;
#line 136 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_set (_tmp15_, "text", "", NULL);
#line 139 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp16_ = filname;
#line 139 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp17_ = g_file_new_for_path (_tmp16_);
#line 139 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (self->priv->current_file);
#line 139 "/home/artem/git/graphui/src/MainWindow.vala"
	self->priv->current_file = _tmp17_;
#line 535 "MainWindow.c"
	{
		GFileInputStream* _tmp18_ = NULL;
		GFile* _tmp19_;
		GFileInputStream* _tmp20_;
		GDataInputStream* dis = NULL;
		GDataInputStream* _tmp21_;
		gchar* line = NULL;
		GDataInputStream* _tmp41_;
#line 141 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp19_ = self->priv->current_file;
#line 141 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp20_ = g_file_read (_tmp19_, NULL, &_inner_error_);
#line 141 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp18_ = _tmp20_;
#line 141 "/home/artem/git/graphui/src/MainWindow.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 552 "MainWindow.c"
			goto __catch3_g_error;
		}
#line 141 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp21_ = g_data_input_stream_new ((GInputStream*) _tmp18_);
#line 141 "/home/artem/git/graphui/src/MainWindow.vala"
		dis = _tmp21_;
#line 144 "/home/artem/git/graphui/src/MainWindow.vala"
		while (TRUE) {
#line 561 "MainWindow.c"
			gchar* _tmp22_ = NULL;
			GDataInputStream* _tmp23_;
			gchar* _tmp24_;
			gchar* _tmp25_;
			const gchar* _tmp26_;
			GtkTextView* _tmp27_;
			GtkTextBuffer* _tmp28_;
			GtkTextBuffer* _tmp29_;
			GtkTextView* _tmp30_;
			GtkTextBuffer* _tmp31_;
			GtkTextBuffer* _tmp32_;
			gchar* _tmp33_;
			gchar* _tmp34_;
			gchar* _tmp35_;
			const gchar* _tmp36_;
			gchar* _tmp37_;
			gchar* _tmp38_;
			gchar* _tmp39_;
			gchar* _tmp40_;
#line 144 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp23_ = dis;
#line 144 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp24_ = g_data_input_stream_read_line (_tmp23_, NULL, NULL, &_inner_error_);
#line 144 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp22_ = _tmp24_;
#line 144 "/home/artem/git/graphui/src/MainWindow.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 144 "/home/artem/git/graphui/src/MainWindow.vala"
				_g_free0 (line);
#line 144 "/home/artem/git/graphui/src/MainWindow.vala"
				_g_object_unref0 (dis);
#line 144 "/home/artem/git/graphui/src/MainWindow.vala"
				_g_object_unref0 (_tmp18_);
#line 595 "MainWindow.c"
				goto __catch3_g_error;
			}
#line 144 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp25_ = _tmp22_;
#line 144 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp22_ = NULL;
#line 144 "/home/artem/git/graphui/src/MainWindow.vala"
			_g_free0 (line);
#line 144 "/home/artem/git/graphui/src/MainWindow.vala"
			line = _tmp25_;
#line 144 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp26_ = line;
#line 144 "/home/artem/git/graphui/src/MainWindow.vala"
			if (!(_tmp26_ != NULL)) {
#line 144 "/home/artem/git/graphui/src/MainWindow.vala"
				_g_free0 (_tmp22_);
#line 144 "/home/artem/git/graphui/src/MainWindow.vala"
				break;
#line 614 "MainWindow.c"
			}
#line 145 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp27_ = self->priv->text;
#line 145 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp28_ = gtk_text_view_get_buffer (_tmp27_);
#line 145 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp29_ = _tmp28_;
#line 145 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp30_ = self->priv->text;
#line 145 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp31_ = gtk_text_view_get_buffer (_tmp30_);
#line 145 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp32_ = _tmp31_;
#line 145 "/home/artem/git/graphui/src/MainWindow.vala"
			g_object_get (_tmp32_, "text", &_tmp33_, NULL);
#line 145 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp34_ = _tmp33_;
#line 145 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp35_ = _tmp34_;
#line 145 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp36_ = line;
#line 145 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp37_ = g_strconcat (_tmp36_, "\n", NULL);
#line 145 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp38_ = _tmp37_;
#line 145 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp39_ = g_strconcat (_tmp35_, _tmp38_, NULL);
#line 145 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp40_ = _tmp39_;
#line 145 "/home/artem/git/graphui/src/MainWindow.vala"
			g_object_set (_tmp32_, "text", _tmp40_, NULL);
#line 145 "/home/artem/git/graphui/src/MainWindow.vala"
			_g_free0 (_tmp40_);
#line 145 "/home/artem/git/graphui/src/MainWindow.vala"
			_g_free0 (_tmp38_);
#line 145 "/home/artem/git/graphui/src/MainWindow.vala"
			_g_free0 (_tmp35_);
#line 144 "/home/artem/git/graphui/src/MainWindow.vala"
			_g_free0 (_tmp22_);
#line 654 "MainWindow.c"
		}
#line 148 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp41_ = dis;
#line 148 "/home/artem/git/graphui/src/MainWindow.vala"
		g_input_stream_close ((GInputStream*) _tmp41_, NULL, &_inner_error_);
#line 148 "/home/artem/git/graphui/src/MainWindow.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 148 "/home/artem/git/graphui/src/MainWindow.vala"
			_g_free0 (line);
#line 148 "/home/artem/git/graphui/src/MainWindow.vala"
			_g_object_unref0 (dis);
#line 148 "/home/artem/git/graphui/src/MainWindow.vala"
			_g_object_unref0 (_tmp18_);
#line 668 "MainWindow.c"
			goto __catch3_g_error;
		}
#line 140 "/home/artem/git/graphui/src/MainWindow.vala"
		_g_free0 (line);
#line 140 "/home/artem/git/graphui/src/MainWindow.vala"
		_g_object_unref0 (dis);
#line 140 "/home/artem/git/graphui/src/MainWindow.vala"
		_g_object_unref0 (_tmp18_);
#line 677 "MainWindow.c"
	}
	goto __finally3;
	__catch3_g_error:
	{
		GError* err = NULL;
		GError* _tmp42_;
		const gchar* _tmp43_;
#line 140 "/home/artem/git/graphui/src/MainWindow.vala"
		err = _inner_error_;
#line 140 "/home/artem/git/graphui/src/MainWindow.vala"
		_inner_error_ = NULL;
#line 150 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp42_ = err;
#line 150 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp43_ = _tmp42_->message;
#line 150 "/home/artem/git/graphui/src/MainWindow.vala"
		g_warning ("MainWindow.vala:150: %s", _tmp43_);
#line 140 "/home/artem/git/graphui/src/MainWindow.vala"
		_g_error_free0 (err);
#line 697 "MainWindow.c"
	}
	__finally3:
#line 140 "/home/artem/git/graphui/src/MainWindow.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 140 "/home/artem/git/graphui/src/MainWindow.vala"
		_g_free0 (filname);
#line 140 "/home/artem/git/graphui/src/MainWindow.vala"
		_g_object_unref0 (filter);
#line 140 "/home/artem/git/graphui/src/MainWindow.vala"
		_g_object_unref0 (file_dialog);
#line 140 "/home/artem/git/graphui/src/MainWindow.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 140 "/home/artem/git/graphui/src/MainWindow.vala"
		g_clear_error (&_inner_error_);
#line 140 "/home/artem/git/graphui/src/MainWindow.vala"
		return;
#line 714 "MainWindow.c"
	}
#line 115 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_free0 (filname);
#line 115 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (filter);
#line 115 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (file_dialog);
#line 722 "MainWindow.c"
}


static void graph_ui_main_window_new_file_action (GraphUIMainWindow* self) {
	GtkTextView* _tmp0_;
	GtkTextBuffer* _tmp1_;
	GtkTextBuffer* _tmp2_;
#line 154 "/home/artem/git/graphui/src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 155 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (self->priv->current_file);
#line 155 "/home/artem/git/graphui/src/MainWindow.vala"
	self->priv->current_file = NULL;
#line 156 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp0_ = self->priv->text;
#line 156 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp1_ = gtk_text_view_get_buffer (_tmp0_);
#line 156 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp2_ = _tmp1_;
#line 156 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_set (_tmp2_, "text", "", NULL);
#line 744 "MainWindow.c"
}


static guint8* string_get_data (const gchar* self, int* result_length1) {
	guint8* result;
	guint8* res = NULL;
	gint res_length1;
	gint _res_size_;
	gint _tmp0_;
	gint _tmp1_;
	gint _tmp2_;
	guint8* _tmp3_;
	gint _tmp3__length1;
	guint8* _tmp4_;
	gint _tmp4__length1;
#line 1428 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1429 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	res = (guint8*) self;
#line 1429 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	res_length1 = -1;
#line 1429 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_res_size_ = res_length1;
#line 1430 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp0_ = strlen (self);
#line 1430 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp1_ = _tmp0_;
#line 1430 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	res_length1 = (gint) _tmp1_;
#line 1430 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp2_ = res_length1;
#line 1431 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp3_ = res;
#line 1431 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp3__length1 = res_length1;
#line 1431 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp4_ = _tmp3_;
#line 1431 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp4__length1 = _tmp3__length1;
#line 1431 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	if (result_length1) {
#line 1431 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		*result_length1 = _tmp4__length1;
#line 788 "MainWindow.c"
	}
#line 1431 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	result = _tmp4_;
#line 1431 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	return result;
#line 794 "MainWindow.c"
}


static void graph_ui_main_window_save_file_action (GraphUIMainWindow* self) {
	GFile* _tmp0_;
	GFile* _tmp18_;
	gboolean _tmp19_;
	GFileIOStream* ios = NULL;
	GFile* _tmp21_;
	GFileIOStream* _tmp22_;
	GFileOutputStream* os = NULL;
	GFileIOStream* _tmp23_;
	GOutputStream* _tmp24_;
	GOutputStream* _tmp25_;
	GFileOutputStream* _tmp26_;
	GFileOutputStream* _tmp27_;
	GtkTextView* _tmp28_;
	GtkTextBuffer* _tmp29_;
	GtkTextBuffer* _tmp30_;
	gchar* _tmp31_;
	gchar* _tmp32_;
	gchar* _tmp33_;
	guint8* _tmp34_;
	gint _tmp34__length1;
	guint8* _tmp35_;
	gint _tmp35__length1;
	GFileOutputStream* _tmp36_;
	GFileIOStream* _tmp37_;
	GError * _inner_error_ = NULL;
#line 159 "/home/artem/git/graphui/src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 160 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp0_ = self->priv->current_file;
#line 160 "/home/artem/git/graphui/src/MainWindow.vala"
	if (_tmp0_ == NULL) {
#line 830 "MainWindow.c"
		GtkFileChooserDialog* file_dialog = NULL;
		GtkFileChooserDialog* _tmp1_;
		GtkFileChooserDialog* _tmp2_;
		GtkFileFilter* filter = NULL;
		GtkFileFilter* _tmp3_;
		GtkFileFilter* _tmp4_;
		GtkFileFilter* _tmp5_;
		GtkFileChooserDialog* _tmp6_;
		GtkFileFilter* _tmp7_;
		GtkFileFilter* _tmp8_;
		GtkFileChooserDialog* _tmp9_;
		gint _tmp10_;
		GtkFileChooserDialog* _tmp16_;
		GFile* _tmp17_;
#line 161 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp1_ = (GtkFileChooserDialog*) gtk_file_chooser_dialog_new (_ ("Save as…"), (GtkWindow*) self, GTK_FILE_CHOOSER_ACTION_SAVE, _ ("Cancel"), GTK_RESPONSE_CANCEL, _ ("Save"), GTK_RESPONSE_ACCEPT, NULL);
#line 161 "/home/artem/git/graphui/src/MainWindow.vala"
		g_object_ref_sink (_tmp1_);
#line 161 "/home/artem/git/graphui/src/MainWindow.vala"
		file_dialog = _tmp1_;
#line 167 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp2_ = file_dialog;
#line 167 "/home/artem/git/graphui/src/MainWindow.vala"
		gtk_file_chooser_set_current_name ((GtkFileChooser*) _tmp2_, _ ("New Graphviz.txt"));
#line 169 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp3_ = gtk_file_filter_new ();
#line 169 "/home/artem/git/graphui/src/MainWindow.vala"
		g_object_ref_sink (_tmp3_);
#line 169 "/home/artem/git/graphui/src/MainWindow.vala"
		filter = _tmp3_;
#line 170 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp4_ = filter;
#line 170 "/home/artem/git/graphui/src/MainWindow.vala"
		gtk_file_filter_set_name (_tmp4_, "Graphviz");
#line 171 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp5_ = filter;
#line 171 "/home/artem/git/graphui/src/MainWindow.vala"
		gtk_file_filter_add_mime_type (_tmp5_, "text/plain");
#line 173 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp6_ = file_dialog;
#line 173 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp7_ = filter;
#line 173 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp8_ = _g_object_ref0 (_tmp7_);
#line 173 "/home/artem/git/graphui/src/MainWindow.vala"
		gtk_file_chooser_add_filter ((GtkFileChooser*) _tmp6_, _tmp8_);
#line 175 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp9_ = file_dialog;
#line 175 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp10_ = gtk_dialog_run ((GtkDialog*) _tmp9_);
#line 175 "/home/artem/git/graphui/src/MainWindow.vala"
		if (_tmp10_ == ((gint) GTK_RESPONSE_ACCEPT)) {
#line 883 "MainWindow.c"
			gchar* filename = NULL;
			GtkFileChooserDialog* _tmp11_;
			gchar* _tmp12_;
			GFile* _tmp13_;
			const gchar* _tmp14_;
			GFile* _tmp15_;
#line 176 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp11_ = file_dialog;
#line 176 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp12_ = gtk_file_chooser_get_filename ((GtkFileChooser*) _tmp11_);
#line 176 "/home/artem/git/graphui/src/MainWindow.vala"
			filename = _tmp12_;
#line 177 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp13_ = self->priv->current_file;
#line 177 "/home/artem/git/graphui/src/MainWindow.vala"
			g_object_run_dispose ((GObject*) _tmp13_);
#line 178 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp14_ = filename;
#line 178 "/home/artem/git/graphui/src/MainWindow.vala"
			_tmp15_ = g_file_new_for_path (_tmp14_);
#line 178 "/home/artem/git/graphui/src/MainWindow.vala"
			_g_object_unref0 (self->priv->current_file);
#line 178 "/home/artem/git/graphui/src/MainWindow.vala"
			self->priv->current_file = _tmp15_;
#line 175 "/home/artem/git/graphui/src/MainWindow.vala"
			_g_free0 (filename);
#line 910 "MainWindow.c"
		}
#line 180 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp16_ = file_dialog;
#line 180 "/home/artem/git/graphui/src/MainWindow.vala"
		gtk_widget_destroy ((GtkWidget*) _tmp16_);
#line 182 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp17_ = self->priv->current_file;
#line 182 "/home/artem/git/graphui/src/MainWindow.vala"
		if (_tmp17_ == NULL) {
#line 183 "/home/artem/git/graphui/src/MainWindow.vala"
			_g_object_unref0 (filter);
#line 183 "/home/artem/git/graphui/src/MainWindow.vala"
			_g_object_unref0 (file_dialog);
#line 183 "/home/artem/git/graphui/src/MainWindow.vala"
			return;
#line 926 "MainWindow.c"
		}
#line 160 "/home/artem/git/graphui/src/MainWindow.vala"
		_g_object_unref0 (filter);
#line 160 "/home/artem/git/graphui/src/MainWindow.vala"
		_g_object_unref0 (file_dialog);
#line 932 "MainWindow.c"
	}
#line 186 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp18_ = self->priv->current_file;
#line 186 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp19_ = g_file_query_exists (_tmp18_, NULL);
#line 186 "/home/artem/git/graphui/src/MainWindow.vala"
	if (_tmp19_) {
#line 940 "MainWindow.c"
		GFile* _tmp20_;
#line 187 "/home/artem/git/graphui/src/MainWindow.vala"
		_tmp20_ = self->priv->current_file;
#line 187 "/home/artem/git/graphui/src/MainWindow.vala"
		g_file_delete (_tmp20_, NULL, &_inner_error_);
#line 187 "/home/artem/git/graphui/src/MainWindow.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 187 "/home/artem/git/graphui/src/MainWindow.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 187 "/home/artem/git/graphui/src/MainWindow.vala"
			g_clear_error (&_inner_error_);
#line 187 "/home/artem/git/graphui/src/MainWindow.vala"
			return;
#line 954 "MainWindow.c"
		}
	}
#line 189 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp21_ = self->priv->current_file;
#line 189 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp22_ = g_file_create_readwrite (_tmp21_, G_FILE_CREATE_PRIVATE, NULL, &_inner_error_);
#line 189 "/home/artem/git/graphui/src/MainWindow.vala"
	ios = _tmp22_;
#line 189 "/home/artem/git/graphui/src/MainWindow.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 189 "/home/artem/git/graphui/src/MainWindow.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 189 "/home/artem/git/graphui/src/MainWindow.vala"
		g_clear_error (&_inner_error_);
#line 189 "/home/artem/git/graphui/src/MainWindow.vala"
		return;
#line 971 "MainWindow.c"
	}
#line 190 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp23_ = ios;
#line 190 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp24_ = g_io_stream_get_output_stream ((GIOStream*) _tmp23_);
#line 190 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp25_ = _tmp24_;
#line 190 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp26_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp25_, g_file_output_stream_get_type ()) ? ((GFileOutputStream*) _tmp25_) : NULL);
#line 190 "/home/artem/git/graphui/src/MainWindow.vala"
	os = _tmp26_;
#line 191 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp27_ = os;
#line 191 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp28_ = self->priv->text;
#line 191 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp29_ = gtk_text_view_get_buffer (_tmp28_);
#line 191 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp30_ = _tmp29_;
#line 191 "/home/artem/git/graphui/src/MainWindow.vala"
	g_object_get (_tmp30_, "text", &_tmp31_, NULL);
#line 191 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp32_ = _tmp31_;
#line 191 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp33_ = _tmp32_;
#line 191 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp34_ = string_get_data (_tmp33_, &_tmp34__length1);
#line 191 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp35_ = _tmp34_;
#line 191 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp35__length1 = _tmp34__length1;
#line 191 "/home/artem/git/graphui/src/MainWindow.vala"
	g_output_stream_write ((GOutputStream*) _tmp27_, _tmp35_, (gsize) _tmp35__length1, NULL, &_inner_error_);
#line 191 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_free0 (_tmp33_);
#line 191 "/home/artem/git/graphui/src/MainWindow.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 191 "/home/artem/git/graphui/src/MainWindow.vala"
		_g_object_unref0 (os);
#line 191 "/home/artem/git/graphui/src/MainWindow.vala"
		_g_object_unref0 (ios);
#line 191 "/home/artem/git/graphui/src/MainWindow.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 191 "/home/artem/git/graphui/src/MainWindow.vala"
		g_clear_error (&_inner_error_);
#line 191 "/home/artem/git/graphui/src/MainWindow.vala"
		return;
#line 1019 "MainWindow.c"
	}
#line 192 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp36_ = os;
#line 192 "/home/artem/git/graphui/src/MainWindow.vala"
	g_output_stream_close ((GOutputStream*) _tmp36_, NULL, &_inner_error_);
#line 192 "/home/artem/git/graphui/src/MainWindow.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 192 "/home/artem/git/graphui/src/MainWindow.vala"
		_g_object_unref0 (os);
#line 192 "/home/artem/git/graphui/src/MainWindow.vala"
		_g_object_unref0 (ios);
#line 192 "/home/artem/git/graphui/src/MainWindow.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 192 "/home/artem/git/graphui/src/MainWindow.vala"
		g_clear_error (&_inner_error_);
#line 192 "/home/artem/git/graphui/src/MainWindow.vala"
		return;
#line 1037 "MainWindow.c"
	}
#line 193 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp37_ = ios;
#line 193 "/home/artem/git/graphui/src/MainWindow.vala"
	g_io_stream_close ((GIOStream*) _tmp37_, NULL, &_inner_error_);
#line 193 "/home/artem/git/graphui/src/MainWindow.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 193 "/home/artem/git/graphui/src/MainWindow.vala"
		_g_object_unref0 (os);
#line 193 "/home/artem/git/graphui/src/MainWindow.vala"
		_g_object_unref0 (ios);
#line 193 "/home/artem/git/graphui/src/MainWindow.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 193 "/home/artem/git/graphui/src/MainWindow.vala"
		g_clear_error (&_inner_error_);
#line 193 "/home/artem/git/graphui/src/MainWindow.vala"
		return;
#line 1055 "MainWindow.c"
	}
#line 159 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (os);
#line 159 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (ios);
#line 1061 "MainWindow.c"
}


static void _graph_ui_main_window___lambda4_ (GraphUIMainWindow* self) {
	GtkImage* _tmp0_;
	GraphUIServicesGraphViz* _tmp1_;
	const gchar* _tmp2_;
	const gchar* _tmp3_;
#line 43 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp0_ = self->priv->image;
#line 43 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp1_ = self->priv->graphviz;
#line 43 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp2_ = graph_ui_services_graph_viz_get_output_image (_tmp1_);
#line 43 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp3_ = _tmp2_;
#line 43 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_image_set_from_file (_tmp0_, _tmp3_);
#line 1080 "MainWindow.c"
}


static void __graph_ui_main_window___lambda4__graph_ui_services_graph_viz_image_created (GraphUIServicesGraphViz* _sender, gpointer self) {
#line 41 "/home/artem/git/graphui/src/MainWindow.vala"
	_graph_ui_main_window___lambda4_ ((GraphUIMainWindow*) self);
#line 1087 "MainWindow.c"
}


static void _graph_ui_main_window___lambda5_ (GraphUIMainWindow* self, const gchar* message) {
	GtkImage* _tmp0_;
	GtkImage* _tmp1_;
	const gchar* _tmp2_;
#line 46 "/home/artem/git/graphui/src/MainWindow.vala"
	g_return_if_fail (message != NULL);
#line 47 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp0_ = self->priv->image;
#line 47 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_image_set_from_icon_name (_tmp0_, "dialog-error-symbolic", GTK_ICON_SIZE_DIALOG);
#line 48 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp1_ = self->priv->image;
#line 48 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp2_ = message;
#line 48 "/home/artem/git/graphui/src/MainWindow.vala"
	gtk_widget_set_tooltip_text ((GtkWidget*) _tmp1_, _tmp2_);
#line 1107 "MainWindow.c"
}


static void __graph_ui_main_window___lambda5__graph_ui_services_graph_viz_error (GraphUIServicesGraphViz* _sender, const gchar* message, gpointer self) {
#line 45 "/home/artem/git/graphui/src/MainWindow.vala"
	_graph_ui_main_window___lambda5_ ((GraphUIMainWindow*) self, message);
#line 1114 "MainWindow.c"
}


static GObject * graph_ui_main_window_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties) {
	GObject * obj;
	GObjectClass * parent_class;
	GraphUIMainWindow * self;
	GraphUIServicesGraphViz* _tmp0_;
	GraphUIServicesGraphViz* _tmp1_;
	GraphUIServicesGraphViz* _tmp2_;
	GraphUIServicesGraphViz* _tmp3_;
	GraphUIServicesGraphViz* _tmp4_;
#line 39 "/home/artem/git/graphui/src/MainWindow.vala"
	parent_class = G_OBJECT_CLASS (graph_ui_main_window_parent_class);
#line 39 "/home/artem/git/graphui/src/MainWindow.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 39 "/home/artem/git/graphui/src/MainWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GRAPH_UI_TYPE_MAIN_WINDOW, GraphUIMainWindow);
#line 40 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp0_ = graph_ui_services_graph_viz_get_instance ();
#line 40 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp1_ = _tmp0_;
#line 40 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 40 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (self->priv->graphviz);
#line 40 "/home/artem/git/graphui/src/MainWindow.vala"
	self->priv->graphviz = _tmp2_;
#line 41 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp3_ = self->priv->graphviz;
#line 41 "/home/artem/git/graphui/src/MainWindow.vala"
	g_signal_connect_object (_tmp3_, "image-created", (GCallback) __graph_ui_main_window___lambda4__graph_ui_services_graph_viz_image_created, self, 0);
#line 45 "/home/artem/git/graphui/src/MainWindow.vala"
	_tmp4_ = self->priv->graphviz;
#line 45 "/home/artem/git/graphui/src/MainWindow.vala"
	g_signal_connect_object (_tmp4_, "error", (GCallback) __graph_ui_main_window___lambda5__graph_ui_services_graph_viz_error, self, 0);
#line 39 "/home/artem/git/graphui/src/MainWindow.vala"
	return obj;
#line 1153 "MainWindow.c"
}


static void graph_ui_main_window_class_init (GraphUIMainWindowClass * klass) {
#line 29 "/home/artem/git/graphui/src/MainWindow.vala"
	graph_ui_main_window_parent_class = g_type_class_peek_parent (klass);
#line 29 "/home/artem/git/graphui/src/MainWindow.vala"
	g_type_class_add_private (klass, sizeof (GraphUIMainWindowPrivate));
#line 29 "/home/artem/git/graphui/src/MainWindow.vala"
	G_OBJECT_CLASS (klass)->constructor = graph_ui_main_window_constructor;
#line 29 "/home/artem/git/graphui/src/MainWindow.vala"
	G_OBJECT_CLASS (klass)->finalize = graph_ui_main_window_finalize;
#line 1166 "MainWindow.c"
}


static void graph_ui_main_window_instance_init (GraphUIMainWindow * self) {
#line 29 "/home/artem/git/graphui/src/MainWindow.vala"
	self->priv = GRAPH_UI_MAIN_WINDOW_GET_PRIVATE (self);
#line 32 "/home/artem/git/graphui/src/MainWindow.vala"
	self->priv->current_file = NULL;
#line 1175 "MainWindow.c"
}


static void graph_ui_main_window_finalize (GObject * obj) {
	GraphUIMainWindow * self;
#line 29 "/home/artem/git/graphui/src/MainWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GRAPH_UI_TYPE_MAIN_WINDOW, GraphUIMainWindow);
#line 30 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (self->priv->graphviz);
#line 32 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (self->priv->current_file);
#line 34 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (self->priv->text);
#line 35 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (self->priv->image);
#line 36 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (self->priv->image_scroll);
#line 37 "/home/artem/git/graphui/src/MainWindow.vala"
	_g_object_unref0 (self->priv->format_chooser);
#line 29 "/home/artem/git/graphui/src/MainWindow.vala"
	G_OBJECT_CLASS (graph_ui_main_window_parent_class)->finalize (obj);
#line 1197 "MainWindow.c"
}


GType graph_ui_main_window_get_type (void) {
	static volatile gsize graph_ui_main_window_type_id__volatile = 0;
	if (g_once_init_enter (&graph_ui_main_window_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (GraphUIMainWindowClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) graph_ui_main_window_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GraphUIMainWindow), 0, (GInstanceInitFunc) graph_ui_main_window_instance_init, NULL };
		GType graph_ui_main_window_type_id;
		graph_ui_main_window_type_id = g_type_register_static (gtk_window_get_type (), "GraphUIMainWindow", &g_define_type_info, 0);
		g_once_init_leave (&graph_ui_main_window_type_id__volatile, graph_ui_main_window_type_id);
	}
	return graph_ui_main_window_type_id__volatile;
}



